package com.mmall.common;import lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Component;import org.springframework.web.servlet.HandlerExceptionResolver;import org.springframework.web.servlet.ModelAndView;import org.springframework.web.servlet.view.json.MappingJackson2JsonView;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author YaningLiu * @date 2018/9/27/ 16:49 */@Slf4j@Componentpublic class ExceptionResolver implements HandlerExceptionResolver {    @Override    public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) {        log.error("{} An exception occurs.",request.getRequestURI(),ex);        // 使用MappingJackson2JsonView将出错的的信息返回到前端页面        //jacksion2.x的版本使用的是MappingJackson2JsonView        ModelAndView modelAndView = new ModelAndView(new MappingJackson2JsonView());        modelAndView.addObject("status", ResponseCode.ERROR.getCode());        modelAndView.addObject("msg", "接口异常，详情请查看服务端异常日志信息！");        modelAndView.addObject("data",ex.toString());        return modelAndView;    }}